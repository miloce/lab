function userobject(name) {
    switch (name) {
        case "温迪":
            this.lv80a = {
                baseHP: 9791.154310719692,
                baseDEF: 621.6392653943294,
                baseATK: 244.60097321190642,
                energyRecharge: 31.999999284744263
            }, this.lv90 = {
                baseHP: 10531.48386939941,
                baseDEF: 668.6423311858234,
                baseATK: 263.09622679515087,
                energyRecharge: 31.999999284744263
            }
            this.mode = 11
            break;
        case "琴":
            this.lv80a = {
                baseHP: 13662.07554812677,
                baseDEF: 714.5278892422866,
                baseATK: 222.3645244843292,
                healing: 22.14999943971634
            }, this.lv90 = {
                baseHP: 14695.093513910891,
                baseDEF: 768.55440212143,
                baseATK: 239.17839184791592,
                healing: 22.14999943971634
            }
            this.mode = 3
            break;
        case "魈":
            this.lv80a = {
                baseHP: 11840.465424213122,
                baseDEF: 743.1090066680572,
                baseATK: 324.65219912465363,
                critRate: 24.200000166893005
            }, this.lv90 = {
                baseHP: 12735.747672248981,
                baseDEF: 799.2965799245794,
                baseATK: 349.2004441320678,
                critRate: 24.200000166893005
            }
            this.mode = 0
            break;
        case "风旅行者":
            this.lv80a = {
                baseHP: 10121.775421069935,
                baseDEF: 635.2536499864582,
                baseATK: 197.68778471910082,
                percentATK: 23.999999463558197
            }, this.lv90 = {
                baseHP: 10874.91499475576,
                baseDEF: 682.5215109506607,
                baseATK: 212.39719698963927,
                percentATK: 23.999999463558197
            }
            this.mode = 11
            break;
        case "砂糖":
            this.lv80a = {
                baseHP: 8603.508985277615,
                baseDEF: 654.3112699264966,
                baseATK: 158.1502227076462,
                anemoDamage: 23.999999463558197
            }, this.lv90 = {
                baseHP: 9243.677602744545,
                baseDEF: 702.9971676649075,
                baseATK: 169.91775205143585,
                anemoDamage: 23.999999463558197
            }
            this.mode = 9
            break;
        case "达达利亚":
            this.lv80a = {
                baseHP: 12182.017518934357,
                baseDEF: 757.3995351761696,
                baseATK: 280.1793016694992,
                hydroDamage: 28.79999876022339
            }, this.lv90 = {
                baseHP: 13103.125224382035,
                baseDEF: 814.6676368990447,
                baseATK: 301.3647742375979,
                hydroDamage: 28.79999876022339
            }
            this.mode = 1
            break;
        case "莫娜":
            this.lv80a = {
                baseHP: 9677.303449718864,
                baseDEF: 607.3486917354603,
                baseATK: 266.83742193948365,
                energyRecharge: 31.999999284744263
            }, this.lv90 = {
                baseHP: 10409.024522594642,
                baseDEF: 653.2712256159284,
                baseATK: 287.0140617423858,
                energyRecharge: 31.999999284744263
            }
            this.mode = 2
            break;
        case "行秋":
            this.lv80a = {
                baseHP: 9514.46903624275,
                baseDEF: 705.1315610686324,
                baseATK: 187.8033969635344,
                percentATK: 23.999999463558197
            }, this.lv90 = {
                baseHP: 10222.420237524027,
                baseDEF: 757.5988870539913,
                baseATK: 201.77733869931944,
                percentATK: 23.999999463558197
            }
            this.mode = 2
            break;
        case "芭芭拉":
            this.lv80a = {
                baseHP: 9109.597725532774,
                baseDEF: 622.5485987243992,
                baseATK: 148.26583495207979,
                percentHP: 23.999999463558197
            }, this.lv90 = {
                baseHP: 9787.423311600985,
                baseDEF: 668.8711049900703,
                baseATK: 159.29789376111603,
                percentHP: 23.999999463558197
            }
            this.mode = 8
            break;
        case "迪卢克":
            this.lv80a = {
                baseHP: 12068.166902074154,
                baseDEF: 728.8184330091881,
                baseATK: 311.3103343406219,
                critRate: 24.200000166893005
            }, this.lv90 = {
                baseHP: 12980.666121717892,
                baseDEF: 783.9254743546844,
                baseATK: 334.84974830517604,
                critRate: 24.200000166893005
            }
            this.mode = 1
            break;
        case "可莉":
            this.lv80a = {
                baseHP: 9563.45283285866,
                baseDEF: 571.6222874802552,
                baseATK: 289.0738706670609,
                pyroDamage: 28.79999876022339
            }, this.lv90 = {
                baseHP: 10286.565419930499,
                baseDEF: 614.8434950278315,
                baseATK: 310.93189668962077,
                pyroDamage: 28.79999876022339
            }
            this.mode = 1
            break;
        case "胡桃":
            this.lv80a = {
                baseHP: 14459.029866148194,
                baseDEF: 814.5617700277107,
                baseATK: 98.95221210261116,
                critDamage: 88.40000033378601
            }, this.lv90 = {
                baseHP: 15552.307232559891,
                baseDEF: 876.1519925053435,
                baseATK: 106.43438284689182,
                critDamage: 88.40000033378601
            }
            this.mode = 6
            break;
        case "班尼特":
            this.lv80a = {
                baseHP: 11538.82421229023,
                baseDEF: 717.8366544678356,
                baseATK: 177.9190053932707,
                energyRecharge: 26.669999957084656
            }, this.lv90 = {
                baseHP: 12397.403338391683,
                baseDEF: 771.2493414536075,
                baseATK: 191.15747659430235,
                energyRecharge: 26.669999957084656
            }
            this.mode = 2
            break;
        case "香菱":
            this.lv80a = {
                baseHP: 10121.775421069935,
                baseDEF: 622.5485987243992,
                baseATK: 209.54904563010496,
                elementalMastery: 96
            }, this.lv90 = {
                baseHP: 10874.91499475576,
                baseDEF: 668.8711049900703,
                baseATK: 225.14102222725342,
                elementalMastery: 96
            }
            this.mode = 2
            break;
        case "安柏":
            this.lv80a = {
                baseHP: 8805.94451856229,
                baseDEF: 559.0232276222378,
                baseATK: 207.5721762893645,
                percentATK: 23.999999463558197
            }, this.lv90 = {
                baseHP: 9461.175943635753,
                baseDEF: 600.6189477914886,
                baseATK: 223.01705909465636,
                percentATK: 23.999999463558197
            }
            this.mode = 1
            break;
        case "辛焱":
            this.lv80a = {
                baseHP: 10425.428383899794,
                baseDEF: 743.2467569919536,
                baseATK: 231.29469811137278,
                percentATK: 23.999999463558197
            }, this.lv90 = {
                baseHP: 11201.162118580367,
                baseDEF: 798.5501533747884,
                baseATK: 248.50470956988465,
                percentATK: 23.999999463558197
            }
            this.mode = 0
            break;
        case "烟绯":
            this.lv80a = {
                baseHP: 8704.726873990265,
                baseDEF: 546.3181629210012,
                baseATK: 223.38718351124407,
                pyroDamage: 23.999999463558197
            }, this.lv90 = {
                baseHP: 9352.426895260462,
                baseDEF: 586.9685252407799,
                baseATK: 240.00881822685915,
                pyroDamage: 23.999999463558197
            }
            this.mode = 1
            break;
        case "七七":
            this.lv80a = {
                baseHP: 11498.913573632512,
                baseDEF: 857.4334312203828,
                baseATK: 266.83742193948365,
                healing: 22.14999943971634
            }, this.lv90 = {
                baseHP: 12368.370364256552,
                baseDEF: 922.2652425417473,
                baseATK: 287.0140617423858,
                healing: 22.14999943971634
            }
            this.mode = 0
            break;
        case "甘雨":
            this.lv80a = {
                baseHP: 9108.050365417846,
                baseDEF: 585.9128611391243,
                baseATK: 311.3103343406219,
                critDamage: 88.40000033378601
            }, this.lv90 = {
                baseHP: 9796.729009273928,
                baseDEF: 630.2146005977265,
                baseATK: 334.84974830517604,
                critDamage: 88.40000033378601
            }
            this.mode = 1
            break;
        case "优菈":
            this.lv80a = {
                baseHP: 12295.867657523078,
                baseDEF: 698.0937476574509,
                baseATK: 317.9812667326378,
                critDamage: 88.40000033378601
            }, this.lv90 = {
                baseHP: 13225.583793659927,
                baseDEF: 750.8776498723164,
                baseATK: 342.0250962186219,
                critDamage: 88.40000033378601
            }
            this.mode = 10
            break;
        case "重云":
            this.lv80a = {
                baseHP: 10222.993309782585,
                baseDEF: 603.4909787843608,
                baseATK: 207.5721762893645,
                percentATK: 23.999999463558197
            }, this.lv90 = {
                baseHP: 10983.664287271677,
                baseDEF: 648.3954482758236,
                baseATK: 223.01705909465636,
                percentATK: 23.999999463558197
            }
            this.mode = 1
            break;
        case "迪奥娜":
            this.lv80a = {
                baseHP: 8907.16240727494,
                baseDEF: 559.0232276222378,
                baseATK: 197.68778471910082,
                cryoDamage: 23.999999463558197
            }, this.lv90 = {
                baseHP: 9569.92523615167,
                baseDEF: 600.6189477914886,
                baseATK: 212.39719698963927,
                cryoDamage: 23.999999463558197
            }
            this.mode = 8
            break;
        case "凯亚":
            this.lv80a = {
                baseHP: 10830.29969460977,
                baseDEF: 736.8942170119408,
                baseATK: 207.5721762893645,
                energyRecharge: 26.669999957084656
            }, this.lv90 = {
                baseHP: 11636.159044503409,
                baseDEF: 791.7249344700394,
                baseATK: 223.01705909465636,
                energyRecharge: 26.669999957084656
            }
            this.mode = 1
            break;
        case "罗莎莉亚":
            this.lv80a = {
                baseHP: 11437.60632357758,
                baseDEF: 660.6638099065094,
                baseATK: 223.38718351124407,
                percentATK: 23.999999463558197
            }, this.lv90 = {
                baseHP: 12288.654045875766,
                baseDEF: 709.8223865696564,
                baseATK: 240.00881822685915,
                percentATK: 23.999999463558197
            }
            this.mode = 1
            break;
        case "刻晴":
            this.lv80a = {
                baseHP: 12182.017518934357,
                baseDEF: 743.1090066680572,
                baseATK: 300.1920912161522,
                critDamage: 88.40000033378601
            }, this.lv90 = {
                baseHP: 13103.125224382035,
                baseDEF: 799.2965799245794,
                baseATK: 322.890810348541,
                critDamage: 88.40000033378601
            }
            this.mode = 0
            break;
        case "菲谢尔":
            this.lv80a = {
                baseHP: 8552.899918850977,
                baseDEF: 552.670702901014,
                baseATK: 227.34095180049735,
                percentATK: 23.999999463558197
            }, this.lv90 = {
                baseHP: 9189.302834416274,
                baseDEF: 593.7937441455288,
                baseATK: 244.256775675296,
                percentATK: 23.999999463558197
            }
            this.mode = 3
            break;
        case "北斗":
            this.lv80a = {
                baseHP: 12146.13013794995,
                baseDEF: 603.4909787843608,
                baseATK: 209.54904563010496,
                electroDamage: 23.999999463558197
            }, this.lv90 = {
                baseHP: 13049.897586040897,
                baseDEF: 648.3954482758236,
                baseATK: 225.14102222725342,
                electroDamage: 23.999999463558197
            }
            this.mode = 0
            break;
        case "雷泽":
            this.lv80a = {
                baseHP: 11133.952901580255,
                baseDEF: 698.7790210886196,
                baseATK: 217.45656023023366,
                physicalDamage: 30.000001192092896
            }, this.lv90 = {
                baseHP: 11962.406412468641,
                baseDEF: 750.7736681492424,
                baseATK: 233.63691357027892,
                physicalDamage: 30.000001192092896
            }
            this.mode = 0
            break;
        case "丽莎":
            this.lv80a = {
                baseHP: 8907.16240727494,
                baseDEF: 533.6130829609756,
                baseATK: 215.47968326009868,
                elementalMastery: 96
            }, this.lv90 = {
                baseHP: 9569.92523615167,
                baseDEF: 573.318087431282,
                baseATK: 231.51294280828733,
                elementalMastery: 96
            }
            this.mode = 0
            break;
        case "钟离":
            this.lv80a = {
                baseHP: 13662.07554812677,
                baseDEF: 685.9467419245484,
                baseATK: 233.482737404026,
                geoDamage: 28.79999876022339
            }, this.lv90 = {
                baseHP: 14695.093513910891,
                baseDEF: 737.81219098164,
                baseATK: 251.1372978774416,
                geoDamage: 28.79999876022339
            }
            this.mode = 5
            break;
        case "阿贝多":
            this.lv80a = {
                baseHP: 12295.867657523078,
                baseDEF: 814.5617700277107,
                baseATK: 233.48275266281507,
                geoDamage: 28.79999876022339
            }, this.lv90 = {
                baseHP: 13225.583793659927,
                baseDEF: 876.1519925053435,
                baseATK: 251.13731313623066,
                geoDamage: 28.79999876022339
            }
            this.mode = 4
            break;
        case "岩旅行者":
            this.lv80a = {
                baseHP: 10121.775421069935,
                baseDEF: 635.2536499864582,
                baseATK: 197.68778471910082,
                percentATK: 23.999999463558197
            }, this.lv90 = {
                baseHP: 10874.91499475576,
                baseDEF: 682.5215109506607,
                baseATK: 212.39719698963927,
                percentATK: 23.999999463558197
            }
            this.mode = 3
            break;
        case "凝光":
            this.lv80a = {
                baseHP: 9109.597725532774,
                baseDEF: 533.6130829609756,
                baseATK: 197.68778471910082,
                geoDamage: 23.999999463558197
            }, this.lv90 = {
                baseHP: 9787.423311600985,
                baseDEF: 573.318087431282,
                baseATK: 212.39719698963927,
                geoDamage: 23.999999463558197
            }
            this.mode = 0
            break;
        case "诺艾尔":
            this.lv80a = {
                baseHP: 11235.17054615228,
                baseDEF: 743.2467569919536,
                baseATK: 177.9190053932707,
                percentDEF: 30.000001192092896
            }, this.lv90 = {
                baseHP: 12071.155460843933,
                baseDEF: 798.5501533747884,
                baseATK: 191.15747659430235,
                percentDEF: 30.000001192092896
            }
            this.mode = 7
            break;
        case "枫原万叶":
            this.lv80a = {
                baseHP: 12410,
                baseDEF: 750,
                baseATK: 276,
                elementalMastery: 115.2
            }, this.lv90 = {
                baseHP: 13348,
                baseDEF: 807,
                baseATK: 297,
                elementalMastery: 115.2
            }
            this.mode = 12
            break;
        case "神里绫华":
            this.lv80a = {
                baseHP: 11954,
                baseDEF: 729,
                baseATK: 318,
                critDamage: 88.4
            }, this.lv90 = {
                baseHP: 12858,
                baseDEF: 784,
                baseATK: 342,
                critDamage: 88.4
            }
            this.mode = 1
            break;
        case "早柚":
            this.lv80a = {
                baseHP: 11033,
                baseDEF: 693,
                baseATK: 227,
                elementalMastery: 96
            }, this.lv90 = {
                baseHP: 11854,
                baseDEF: 745,
                baseATK: 244,
                elementalMastery: 96
            }
            this.mode = 3
            break;
        case "宵宫":
            this.lv80a = {
                baseHP: 9450,
                baseDEF: 572,
                baseATK: 300,
                critRate: 24.2
            }, this.lv90 = {
                baseHP: 10164,
                baseDEF: 615,
                baseATK: 323,
                critRate: 24.2
            }
            this.mode = 1
            break;
        case "九条裟罗":
            this.lv80a = {
                baseHP: 8907,
                baseDEF: 584,
                baseATK: 182
            }, this.lv90 = {
                baseHP: 9570,
                baseDEF: 628,
                baseATK: 195
            }
            this.mode = 3
            break;
        case "雷电将军":
            this.lv80a = {
                baseHP: 12000,
                baseDEF: 734,
                baseATK: 314
            }, this.lv90 = {
                baseHP: 12907,
                baseDEF: 789,
                baseATK: 337
            }
            this.mode = 13
            break;
        case "珊瑚宫心海":
            this.lv80a = {
                baseHP: 12524,
                baseDEF: 611,
                baseATK: 218
            }, this.lv90 = {
                baseHP: 13471,
                baseDEF: 657,
                baseATK: 234
            }
            this.mode = 14
            break;
        case "埃洛伊":
            this.lv80a = {
                baseHP: 10133,
                baseDEF: 629,
                baseATK: 217
            }, this.lv90 = {
                baseHP: 10899,
                baseDEF: 676,
                baseATK: 234
            }
            this.mode = 1
            break;
        case "托马":
            this.lv80a = {
                baseHP: 9616,
                baseDEF: 699,
                baseATK: 188
            }, this.lv90 = {
                baseHP: 10331,
                baseDEF: 751,
                baseATK: 202
            }
            this.mode = 15
            break;
        case "荒泷一斗":
            this.lv80a = {
                baseHP: 12740,
                baseDEF: 865,
                baseATK: 178
            }, this.lv90 = {
                baseHP: 13703,
                baseDEF: 930,
                baseATK: 191
            }
            this.mode = 7
            this.Etype = 6
            break;
        case "五郎":
            this.lv80a = {
                baseHP: 8907,
                baseDEF: 603,
                baseATK: 170
            }, this.lv90 = {
                baseHP: 9570,
                baseDEF: 648,
                baseATK: 183
            }
            this.mode = 7
            this.Etype = 6
            break;
        default:
            break;
    }
}

function SetCharS(n) {
    if (isNaN(GetE(n))) {
        document.getElementById(n).value = "0"
    } else {
        document.getElementById(n).value = GetE(n).toString()
    }
    SetChar(0)
}

function Save(name) {
    n = document.getElementById('Level').value + "/" + document.getElementById('QQ').value + "/" + document
        .getElementById('T1').value + "/" + document.getElementById('T2').value + "/" + document.getElementById('T3')
        .value + "/" + document.getElementById('T4').value + "/" + document.getElementById('T5').value + "/" + document
        .getElementById('T6').value + "/" + document.getElementById('T7').value + "/"
    n = n + document.getElementById('A1').value + "/" + document.getElementById('A2').value + "/" + document
        .getElementById('A3').value + "/"
    window.localStorage.setItem("ys" + name, n)
}

function Load() {
    n = window.localStorage.getItem("ys" + document.getElementById('Char').value)
    if (n != null) {
        temp = n.split("/");
        document.getElementById('Level').options[2 - parseInt(temp[0])].selected = true;
        document.getElementById('QQ').value = temp[1]
        document.getElementById('T1').value = temp[2]
        document.getElementById('T2').value = temp[3]
        document.getElementById('T3').value = temp[4]
        document.getElementById('T4').value = temp[5]
        document.getElementById('T5').value = temp[6]
        document.getElementById('T6').value = temp[7]
        document.getElementById('T7').value = temp[8]
        for (var i = 0; i <= 6; i++) {
            if (i <= 4) {
                if (document.getElementById('A1').options[i].value == parseInt(temp[9])) {
                    document.getElementById('A1').options[i].selected = true
                }
            }
            if (i <= 4) {
                if (document.getElementById('A2').options[i].value == parseInt(temp[10])) {
                    document.getElementById('A2').options[i].selected = true
                }
            }
            if (document.getElementById('A3').options[i].value == parseInt(temp[11])) {
                document.getElementById('A3').options[i].selected = true
            }
        }

    } else {
        document.getElementById('Level').options[0].selected = true;
        document.getElementById('A1').options[1].selected = true;
        document.getElementById('A2').options[4].selected = true;
        document.getElementById('A3').options[5].selected = true;
        document.getElementById('QQ').value = "0"
        document.getElementById('T1').value = "0"
        document.getElementById('T2').value = "0"
        document.getElementById('T3').value = "0"
        document.getElementById('T4').value = "0"
        document.getElementById('T5').value = "0"
        document.getElementById('T6').value = "0"
        document.getElementById('T7').value = "0"
    }
}

function SetChar(mtype) {
    var J = new userobject(document.getElementById('Char').value);
    var hp;
    var df;
    var atk;
    var a = [0, 0, 0, 0, 0, 0, 0];
    var r = [0, 0, 0, 0, 0, 0, 0];
    res = ""
    res1 = ""
    res2 = ""
    res3 = ""
    if (mtype == 0) {
        Save(document.getElementById('Char').value)
    }
    if (mtype == 2) {
        Load()
        var it = [
            '<select id="Weapon" onchange="SetWeapon()" class="form-select"><option value="0">快速选择武器</option><option value="674">天空之翼</option><option value="608">阿莫斯/冬极/飞雷/终末</option><option value="565">祭礼/暗巷/黑岩</option><option value="510">弓藏/幽夜/风花/绝弦/月卡/宗室/试作</option><option value="454">西风/钢轮弓/破魔弓</option></select>',
            '<select id="Weapon" onchange="SetWeapon()" class="form-select"><option value="0">快速选择武器</option><option value="674">天空之卷</option><option value="608">尘锁/四风/月华</option><option value="565">宗室/白辰/万国/暗巷</option><option value="510">黑岩/试作/忍冬/匣里/西风</option><option value="454">祭礼/嘟嘟可/昭心</option></select>',
            '<select id="Weapon" onchange="SetWeapon()" class="form-select"><option value="0">快速选择武器</option><option value="674">和璞鸢/天空之脊</option><option value="608">薙草/贯虹/护摩</option><option value="565">宗室/十文字/西风/千岩/流月针</option><option value="510">黑岩/试作/渔获</option><option value="454">决斗/龙脊/匣里</option></select>',
            '<select id="Weapon" onchange="SetWeapon()" class="form-select"><option value="0">快速选择武器</option><option value="741">松籁响起之时</option><option value="674">天空之傲</option><option value="608">无工/狼末</option><option value="565">宗室/祭礼/雪葬/试作</option><option value="510">雨裁/白影/黑岩/螭骨/桂木/千岩/恶王</option><option value="454">西风/衔珠海皇</option></select>',
            '<select id="Weapon" onchange="SetWeapon()" class="form-select"><option value="0">快速选择武器</option><option value="674">风鹰剑/雾切</option><option value="608">斫峰/苍古/天空</option><option value="542">磐岩结绿</option><option value="620">暗巷闪光</option><option value="565">试作/黑岩</option><option value="510">腐殖/黑剑/宗室/铁蜂刺/匣里</option><option value="454">天目影打刀/祭礼/西风</option></select>'
        ];
        var it2 = [' 宵宫 安柏 达达利亚 迪奥娜 菲谢尔 甘雨 九条裟罗 埃洛伊 温迪 五郎 ', ' 芭芭拉 可莉 丽莎 莫娜 凝光 砂糖 烟绯 珊瑚宫心海 ',
            ' 魈 雷电将军 胡桃 罗莎莉亚 香菱 钟离 托马 ', ' 北斗 迪卢克 雷泽 诺艾尔 优菈 早柚 重云 辛焱 荒泷一斗 ',
            ' 阿贝多 神里绫华 班尼特 凯亚 刻晴 枫原万叶 七七 琴 行秋 风旅行者 岩旅行者 雷旅行者 '
        ];
        for (var i = 0; i <= 4; i++) {
            if (it2[i].indexOf(" " + document.getElementById('Char').value + " ") >= 0) {
                document.getElementById('WeaponList').innerHTML = it[i]
                break;
            }
        }
    }



    if (document.getElementById('Level').value == "1") {
        hp = J.lv80a["baseHP"]
        df = J.lv80a["baseDEF"]
        atk = J.lv80a["baseATK"] + GetE("QQ")
        res3 = "80突破" + document.getElementById('Char').value + "，"
    } else {
        hp = J.lv90["baseHP"]
        df = J.lv90["baseDEF"]
        atk = J.lv90["baseATK"] + GetE("QQ")
        res3 = "90级" + document.getElementById('Char').value + "，"
    }

    for (var i = 1; i <= 3; i++) {
        a[document.getElementById('A' + i.toString()).value - 1] = a[document.getElementById('A' + i.toString())
            .value - 1] + 1
        switch (document.getElementById('A' + i.toString()).value - 1) {
            case 0:
                res3 = res3 + "生";
                break;
            case 1:
                res3 = res3 + "攻";
                break;
            case 2:
                res3 = res3 + "防";
                break;
            case 3:
                res3 = res3 + "精";
                break;
            case 4:
                res3 = res3 + "充";
                break;
            case 5:
                res3 = res3 + "暴";
                break;
            case 6:
                res3 = res3 + "爆";
                break;
            case 7:
                res3 = res3 + "伤";
                break;
            case 8:
                res3 = res3 + "治";
                break;
            default:
                break;
        }
    }
    res3 = res3 + "配置，"

    r[0] = ((GetE("T1") - 4780) / hp - 0.466 * a[0]) / 0.05 //生命
    r[1] = ((GetE("T2") - 311) / atk - 0.466 * a[1]) / 0.05 //攻击
    r[2] = (GetE("T3") / df - 0.583 * a[2]) / 0.062 //防御
    r[3] = (GetE("T4") - 187 * a[3]) / 19.75 //精通
    r[5] = (GetE("T5") - 31.1 * a[5]) / 3.3 //暴击
    r[6] = (GetE("T6") - 62.2 * a[6]) / 6.6 //爆伤
    r[4] = (GetE("T7") - 51.8 * a[4]) / 5.5 //充能


    if (r[0] + r[1] + r[2] + r[3] + r[4] + r[5] + r[6] > 50) {
        res = res + '<div class="alert alert-warning d-flex align-items-center" role="alert"><svg class="bi flex-shrink-0 me-2" width="24" height="24" role="img" aria-label="Warning:"><use xlink:href="#exclamation-triangle-fill"/></svg><div><strong>圣遗物详情</strong> 填写可能有误</div></div>';
    }

    for (var i = 0; i <= 6; i++) {
        if (r[0] < 0) {
            res = res + '<div class="alert alert-warning d-flex align-items-center" role="alert"><svg class="bi flex-shrink-0 me-2" width="24" height="24" role="img" aria-label="Warning:"><use xlink:href="#exclamation-triangle-fill"/></svg><div><strong>圣遗物主属性</strong> 填写可能有误</div></div>';
            i = 7
        }
    }

    if (GetE("QQ") > 741 || GetE("QQ") <= 0) {
        res = res + '<div class="alert alert-warning d-flex align-items-center" role="alert"><svg class="bi flex-shrink-0 me-2" width="24" height="24" role="img" aria-label="Warning:"><use xlink:href="#exclamation-triangle-fill"/></svg><div><strong>武器攻击力白值</strong> 填写可能有误</div></div>';
    }

    res = res + "<p><span class='badge bg-success'>生命</span> " + r[0].toFixed(1).toString() + " <span class='badge bg-danger'>攻击</span> " + r[1].toFixed(1)
        .toString() + " <span class='badge bg-secondary'>防御</span> " + r[2].toFixed(1).toString() + "</p>"
    res = res + "<p><span class='badge bg-warning text-dark'>精通</span> " + r[3].toFixed(1).toString() + " <span class='badge bg-info text-dark'>充能</span> " + r[4].toFixed(1)
        .toString() + " <span class='badge bg-danger'>暴击</span> " + r[5].toFixed(1).toString() + " <span class='badge bg-danger'>爆伤</span> " + r[6].toFixed(
            1).toString() + "</p><hr>"
    if (J.mode != 6 && J.mode != 7 && J.mode != 13 && J.mode != 14) {
        res1 = res1 + "<p><span class='badge bg-primary' style='font-size: 0.85rem;font-weight: normal;'>攻双爆</span> 共 <font size='4'><strong>" + (r[5] + r[1] + r[6]).toFixed(1).toString() + " </strong></font>有效词条</p>"
    } //胡桃、诺埃尔、雷电将军、珊瑚宫心海不显示这一条

    switch (J.mode) {
        case 0: //一般通用
            break;
        case 1: //火水冰通用
            res1 = res1 + "<p><span class='badge bg-primary' style='font-size: 0.85rem;font-weight: normal;'>攻精双爆</span> 共 <font size='4'><strong>" + (r[5] + r[1] + r[6] + r[3]).toFixed(1).toString() +
                " </strong></font>有效词条</p>"
            break;
        case 2: //火水冰充能工具人通用
            res1 = res1 + "<p><span class='badge bg-primary' style='font-size: 0.85rem;font-weight: normal;'>攻精双爆</span> 共 <font size='4'><strong>" + (r[5] + r[1] + r[6] + r[3]).toFixed(1).toString() +
                " </strong></font>有效词条</p>"
            res1 = res1 + "<p><span class='badge bg-primary' style='font-size: 0.85rem;font-weight: normal;'>攻精充双爆</span> 共 <font size='4'><strong>" + (r[5] + r[1] + r[6] + r[3] + r[4]).toFixed(1).toString() +
                " </strong></font>有效词条</p>"
            break;
        case 3: //一般充能工具人通用
            res1 = res1 + "<p><span class='badge bg-primary' style='font-size: 0.85rem;font-weight: normal;'>攻充双爆</span> 共 <font size='4'><strong>" + (r[5] + r[1] + r[6] + r[4]).toFixed(1).toString() +
                " </strong></font>有效词条</p>"
            break;
        case 4: //阿贝多
            res1 = res1 + "<p><span class='badge bg-primary' style='font-size: 0.85rem;font-weight: normal;'>防双爆</span> 共 <font size='4'><strong>" + (r[5] + r[2] + r[6]).toFixed(1).toString() + " </strong></font>有效词条</p>"
            break;
        case 5: //钟离
            res1 = res1 + "<p><span class='badge bg-primary' style='font-size: 0.85rem;font-weight: normal;'>攻生双爆</span> 共 <font size='4'><strong>" + (r[5] + r[1] + r[0] + r[6]).toFixed(1).toString() +
                " </strong></font>有效词条</p>"
            res1 = res1 + "<p><span class='badge bg-primary' style='font-size: 0.85rem;font-weight: normal;'>攻生充双爆</span> 共 <font size='4'><strong>" + (r[5] + r[1] + r[0] + r[4] + r[6]).toFixed(1).toString() +
                " </strong></font>有效词条</p>"
            break;
        case 6: //胡桃
            res1 = res1 + "<p><span class='badge bg-primary' style='font-size: 0.85rem;font-weight: normal;'>生精爆伤</span> 共 <font size='4'><strong>" + (r[0] + r[3] + r[6]).toFixed(1).toString() + " </strong></font>有效词条</p>"
            res1 = res1 + "<p><span class='badge bg-primary' style='font-size: 0.85rem;font-weight: normal;'>生精双爆</span> 共 <font size='4'><strong>" + (r[0] + r[3] + r[5] + r[6]).toFixed(1).toString() +
                " </strong></font>有效词条</p>"
            res1 = res1 + "<p><span class='badge bg-primary' style='font-size: 0.85rem;font-weight: normal;'>攻生精双爆（ 攻击0.4折算 ）</span> 共 <font size='4'><strong>" + (r[0] + r[3] + r[5] + r[6] + r[1] * 0.4).toFixed(1)
                .toString() + " </strong></font>有效词条</p>"
            break;
        case 7: //诺艾尔或五郎或一斗
            res1 = res1 + "<p><span class='badge bg-primary' style='font-size: 0.85rem;font-weight: normal;'>防双爆</span> 共 <font size='4'><strong>" + (r[2] + r[6] + r[5]).toFixed(1).toString() + " </strong></font>有效词条</p>"
            res1 = res1 + "<p><span class='badge bg-primary' style='font-size: 0.85rem;font-weight: normal;'>攻防双爆</span> 共 <font size='4'><strong>" + (r[1] + r[2] + r[6] + r[5]).toFixed(1).toString() +
                " </strong></font>有效词条</p>"
            res1 = res1 + "<p><span class='badge bg-primary' style='font-size: 0.85rem;font-weight: normal;'>攻防充双爆</span> 共 <font size='4'><strong>" + (r[1] + r[2] + r[4] + r[6] + r[5]).toFixed(1).toString() +
                " </strong></font>有效词条</p>"
            break;
        case 8: //生命值奶妈
            res1 = res1 + "<p><span class='badge bg-primary' style='font-size: 0.85rem;font-weight: normal;'>生充</span> 共 <font size='4'><strong>" + (r[0] + r[4]).toFixed(1).toString() + " </strong></font>有效词条</p>"
            break;
        case 9: //砂糖
            res1 = res1 + "<p><span class='badge bg-primary' style='font-size: 0.85rem;font-weight: normal;'>纯精通</span> 共 <font size='4'><strong>" + (r[3]).toFixed(1).toString() + " </strong></font>有效词条</p>"
            break;
        case 10: //优菈
            res1 = res1 + "<p><span class='badge bg-primary' style='font-size: 0.85rem;font-weight: normal;'>攻充双爆</span> 共 <font size='4'><strong>" + (r[5] + r[1] + r[6] + r[4]).toFixed(1).toString() +
                " </strong></font>有效词条</p>"
            res1 = res1 + "<p><span class='badge bg-primary' style='font-size: 0.85rem;font-weight: normal;'>攻击爆伤</span> 共 <font size='4'><strong>" + (r[1] + r[6]).toFixed(1).toString() + " </strong></font>有效词条</p>"
            break;
        case 11: //温迪
            res1 = res1 + "<p><span class='badge bg-primary' style='font-size: 0.85rem;font-weight: normal;'>攻充精双爆</span> 共 <font size='4'><strong>" + (r[5] + r[1] + r[6] + r[4] + r[3]).toFixed(1).toString() +
                " </strong></font>有效词条</p>"
            break;
        case 12: //万叶
            res1 = res1 + "<p><span class='badge bg-primary' style='font-size: 0.85rem;font-weight: normal;'>精充</span> 共 <font size='4'><strong>" + (r[3] + r[4]).toFixed(1).toString() + " </strong></font>有效词条</p>"
            res1 = res1 + "<p><span class='badge bg-primary' style='font-size: 0.85rem;font-weight: normal;'>攻精双爆</span> 共 <font size='4'><strong>" + (r[5] + r[1] + r[6] + r[3]).toFixed(1).toString() +
                " </strong></font>有效词条</p>"
            break;
        case 13: //雷电将军
            res1 = res1 + "<p><span class='badge bg-primary' style='font-size: 0.85rem;font-weight: normal;'>攻充双爆</span> 共 <font size='4'><strong>" + (r[5] + r[1] + r[6] + r[4]).toFixed(1).toString() +
                " </strong></font>有效词条</p>"
            break;
        case 14: //珊瑚宫心海
            res1 = res1 + "<p><span class='badge bg-primary' style='font-size: 0.85rem;font-weight: normal;'>生充</span> 共 <font size='4'><strong>" + (r[0] + r[4]).toFixed(1).toString() + " </strong></font>有效词条</p>"
            res1 = res1 + "<p><span class='badge bg-primary' style='font-size: 0.85rem;font-weight: normal;'>生攻充</span> 共 <font size='4'><strong>" + (r[0] + r[1] + r[4]).toFixed(1).toString() + " </strong></font>有效词条</p>"
            res1 = res1 + "<p><span class='badge bg-primary' style='font-size: 0.85rem;font-weight: normal;'>生攻精充</span> 共 <font size='4'><strong>" + (r[0] + r[1] + r[3] + r[4]).toFixed(1).toString() +
                " </strong></font>有效词条</p>"
            break;
        case 15: //托马
            res1 = res1 + "<p><span class='badge bg-primary' style='font-size: 0.85rem;font-weight: normal;'>生充</span> 共 <font size='4'><strong>" + (r[0] + r[4]).toFixed(1).toString() + " </strong></font>有效词条</p>"
            break;

        default:
            break;
    }

    if (GetE("QQ") == 542) {
        res2 = res2 + "<hr>磐岩结绿附加攻击"
        res2 = res2 + "<p style='margin-top: 1rem;'><span class='badge bg-warning text-dark' style='font-size: 0.85rem;font-weight: normal;'>一精</span> 共 " + (r[0] * 0.218402778).toFixed(1).toString() + " 词条 "
        res2 = res2 + "<span class='badge bg-warning text-dark' style='font-size: 0.85rem;font-weight: normal;'>二精</span> 共 " + (r[0] * 0.273003472).toFixed(1).toString() + " 词条</p>"
        res2 = res2 + "<p><span class='badge bg-warning text-dark' style='font-size: 0.85rem;font-weight: normal;'>三精</span> 共 " + (r[0] * 0.327604167).toFixed(1).toString() + " 词条 "
        res2 = res2 + "<span class='badge bg-warning text-dark' style='font-size: 0.85rem;font-weight: normal;'>四精</span> 共 " + (r[0] * 0.382204861).toFixed(1).toString() + " 词条</p>"
        res2 = res2 + "<p><span class='badge bg-warning text-dark' style='font-size: 0.85rem;font-weight: normal;'>五精</span> 共 " + (r[0] * 0.436805556).toFixed(1).toString() + " 词条</p>"
    }

    document.getElementById('result').innerHTML = res + res1 + res2

    if (mtype == 1) {
        //var temp="生攻防精充暴爆"
        //	for (var i =1;i<=7; i++) {
        //		if(res1.indexOf(temp[i])>0){
        //			res3=res3+"\r\n"+temp[i]
        //		}
        //	}
        res1 = res1.replace(/：/g, "")
        res1 = res1.replace(/<\/p><p>/g, "，")
        res1 = res1.replace(/<p>/g, "")
        res1 = res1.replace(/<\/p>/g, "")
        res1 = res1.replace(/<font size='4'>/g, "")
        res1 = res1.replace(/<\/font>/g, "")

        res3 = res3 + res1

        return (copytxt(res3))
    }
}

function GetE(n) {
    return parseFloat(document.getElementById(n).value)
}

window.onload = function () {
    Load()
}

function copytxt(txt) {
    document.getElementById('hint').innerHTML = "<hr>通常情况下，<strong>20~25条</strong> 属于 <strong>小毕业区间</strong>，<strong>25~30条</strong> 属于 <strong>毕业区间</strong>，<strong>35条以上</strong> 属于 <strong>欧皇区间</strong>";
}

function SetWeapon() {
    document.getElementById("QQ").value = document.getElementById("Weapon").value
    Save(document.getElementById('Char').value)
}